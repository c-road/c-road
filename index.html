<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C*-road</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ress@4.0.0/dist/ress.min.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=BioRhyme:wght@200;800&family=Noto+Serif+JP:wght@200&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="title">
        <p>C*-road</p>
    </div>
    <div id="container">
        <canvas id="game-board" width="520px" height="520px"></canvas>
        <!-- <canvas id="game-board"></canvas> -->
    </div>
    <!-- <div id="nav">
        <div class="button newGame"></div>
        <div class="button share"></div>
    </div> -->

    <div id="modalArea" class="modalArea showModal">
        <div class="modalBackground"></div>
        <div class="modalWrapper">
            <div class="modal">
                <img src="./img/C-road.png" alt="" width=80%>
                <!-- <img src="./img/C-road2.png" alt="" width=80%> -->
                <div class="buttonContainer">
                    <div id="computer" class="button newGame" onclick="">Computer</div>
                    <div class="buttonName">対戦</div>
                    <div id="human" class="button newGame">Human</div>
                </div>
                <div class="buttonContainer">
                    <a href="#" target="_blank" rel="noopener noreferrer" class="button">PDF</a>
                    <div class="buttonName">遊び方</div>
                    <a href="#" target="_blank" rel="noopener noreferrer" class="button">Movie</a>
                </div>
                <div id="share">
                    <!-- <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button button"
                        data-show-count="false" target="_blank">Tweet</a> -->
                    <a href="https://twitter.com/share?ref_src=https://c-road.github.io" class="twitter-share-button button"
                        data-show-count="false" target="_blank">Tweet</a>
                    <!-- <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> -->
                    <a href="https://social-plugins.line.me/lineit/share?url=https://c-road.github.io" target="_blank"
                        rel="nofollow noopener noreferrer" class="button">LINE</a>
                </div>
                <div class="url">
                    <a href="https://github.com/c-road/c-road.github.io"
                        target="_blank">https://github.com/c-road/c-road.github.io</a>
                </div>
            </div>
        </div>
    </div>
    <div id="winnerWindow" class="winnerWindow">
        <div id="winner"></div>
        <div id="restartButton" class="restartButton">restart</div>
    </div>

    <!-- <div id="numberInputButton"> -->
    <!-- <p>aaaa</p> -->
    <!-- </div> -->
    <script src="./js/main.js"></script>
    <script src="./js/ai.js"></script>
    <script src="./js/rendering.js"></script>
    <script>
        function resizeWindow() {
            let w = document.getElementById("container").width;
            console.log("width " + w);
            document.getElementById("game-board").setAttribute("width", w);
        }

        // window.onresize = resizeWindow;
        // window.onload = resizeWindow;
        function clickGameButton(type) {
            const context = document.getElementById("game-board").getContext('2d');
            gameStart(context, type);
            console.log(type + "geme");
        }

        function demoGame() {
            const context = document.getElementById("game-board").getContext('2d');
            gameStart(context, "demo");
            console.log("demoGame");
        }
        // 参考 https://myscreate.com/modal-without-jquery/
        const modalArea = document.getElementById('modalArea');
        const computer = document.getElementById('computer');
        const human = document.getElementById('human');
        const modalBackground = document.getElementById('modalBackground');
        const restartButton = document.getElementById('restartButton');

        computer.addEventListener('click', function () {
            modalArea.classList.toggle('showModal');
            clickGameButton("computer");
        }, false);

        human.addEventListener('click', function () {
            modalArea.classList.toggle('showModal');
            clickGameButton("human");
        }, false);

        restartButton.addEventListener('click', function () {
            modalArea.classList.toggle('showModal');
            document.getElementById('winner').setAttribute('class', "winner");
            document.getElementById('winnerWindow').setAttribute('class', "winnerWindow");
            demoGame();
        }, false);
        demoGame();
    </script>
</body>

</html>